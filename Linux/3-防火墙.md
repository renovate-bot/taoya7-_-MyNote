
Linux防火墙 `firewall` `iptable`

## iptables

### 常用操作

**查看防火墙状态**

```shell
[root@iZuf6aezijrwku50v6qusrZ ~]# service iptables status
Redirecting to /bin/systemctl status iptables.service
● iptables.service - IPv4 firewall with iptables
   Loaded: loaded (/usr/lib/systemd/system/iptables.service; disabled; vendor preset: disabled)
   Active: inactive (dead)

```

**停止防火墙**

```shell
service iptables stop #停止防火墙

service iptables start # 开启防火墙

service iptables restart # 重启防火墙

# 永久关闭防火墙
chkconfig iptables off  

# 永久关闭后重启
chkconfig iptables on　　
```

**查看防火墙规则**

```shell
vim /etc/sysconfig/iptables
```



## Firewall

`yum install firewalld`

```shell
开启服务systemctl start firewalld.service

关闭防火墙systemctl stop firewalld.service

开机自动启动systemctl enable firewalld.service

关闭开机制动启动systemctl disable firewalld.service
```

### Firewall-cmd

- 开启某个端口

  ```shell
  firewall-cmd --zone=public --add-port=8080/tcp //临时
  
  firewall-cmd --permanent --zone=public --add-port=8080-8081/tcp //永久
  ```

- 开启某个服务

  ```shell
  firewall-cmd --zone=public --add-service=https //临时
  
  firewall-cmd --permanent --zone=public --add-service=https //永久
  ```

  



