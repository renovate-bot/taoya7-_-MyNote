# 过滤器

- 模板标签

- 模板变量

- 模板过滤器

**为什么需要过滤器？**

因为在DTL中，不支持函数的调用形式`()`




#### 1. add


```python
{{ "Tashi"|add:"www.itaolaity.com"}}
>>> Tashi www.itaolaity.com

{{ 3|add:2 }}
>>> 5
```

#### 2.cut

移除字符串指定的字符

```
{{ "abc"|cut:'c' }}
>>> ab
```

#### 3. date

```
>>> Feb. 27, 2019, 5:22 p.m.
{{ date|date:"Y-m-d  G:i:s" }}
>>> 2019-02-27 17:21:31
```

#### 4.default

如果value是false或为空显示default

```
{{ value|default:"默认值|false" }}
```

#### 5. first|last

返回元祖或列表的首元素或尾元素

#### 6.join

指定字符的拼接

#### 7. floatformat

使用四舍五入的方式格式化一个浮点类型。若没有传递参数，只会保留一个小数

#### 8. length

获取一个列表/元祖/字符串的长度

#### 9. random

给被给的列表/字符串/元祖中随机选择一个值

#### 10. slice

类似Python中的切片

```
{{ "123"|slice:"2:" }}
```

#### 11. striptags

删除所有html标签

#### 12. truncatechars

如果给定的字符串长度超过过滤器的长度就会切割，并且会以三个点来展示



**如果文章超过100字 以。。。中止**
```python
{{article.content|truncatewords:100}}
```

**truncateword和slice的区别**
```python
{{content|truncatewords:"15"}}
表示显示变量content中前15个字符，适用于英文内容

{{content|slice:"15"}}
表示显示变量content中的15个字符，使用于中文内容
```



### #[自定义模板过滤器]

1. 新建templatetags包
2. 在`templatetags`新建自定义python文件
3. 定义过滤器
```python
from django import template

register = template.Library()

#过滤器最多只能两个参数
# 过滤器的第一个参数固定value
def myadd(value,word):
    return value+word

register.filter("great",myadd)
```
4. 把过滤器这个app添加到`settings.py`中
5. 模板中使用`load`标签加载过滤器
```python
{% load  python文件名 %}
```
6. 使用
```
{{  "000"|great:"23"}}
```

