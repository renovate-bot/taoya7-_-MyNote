## 枚举服务

- DNS枚举
- SNMP枚举

### DNSenum

```
dnsenum --enum itaolaity.com
```
![](http://itaolaity.com/20190502140047.png)

可以显示DNS服务详细信息，包括主机地址，域名服务地址，邮件服务地址

**附加参数**

- -r允许递归查询
- -d允许设置请求时间的延迟数
- -o允许指定输出位置
- -w允许使用WHOIS请求


### Fierce工具

对子域名进行扫描和主机信息

//获取一个目标主机所有IP地址和主机信息
```
fierce -dns baidu.com
```

![](http://itaolaity.com/20190502130406.png)

## 测试网络范围



### DMitry域名查询工具

用来查询IP域名WHOIS信息的。

```
dmitry -wnpb itaolaity.com
```

![](http://itaolaity.com/20190502132304.png)

可以看出域名的IP地址，WHOIS信息以及开放的端口号。

在Linux中netmast工具可以将域名转换标准的子网掩码格式

```
netmask -s itaolaity.com
>>> 220.194.237.119/255.255.255.255
```

### Scapy路由跟踪

Scapy是强大的交互式数据包处理工具，数据生成器，网络扫描器，网络发现工具和包嗅探工具。


**启动工具**

```
root@kali:~# scapy
```

**使用sr()函数发送和接受数据包**

```
ans,unans=sr(IP(dst="www.baidu.com",ttl=(1,6))/TCP())
```

![](http://itaolaity.com/20190502140741.png)

自动与www.baidu.com建立链接可以看到发送的包与接受的包和剩下的包。

**以表的形式查看数据发送情况**

```
ans.make_table(lambda(s,r):(s.dst,s.ttl,r,src))
```

这样可以输出网络所有的IP地址

**查看TCP路由跟踪信息**

```
res,unans=traceroute(["www.baidu.com","www.itaolaity.com","www.taobao.com"], dport=[80,443], maxttl=20, retry=2)
```

![](http://itaolaity.com/20190502141417.png)

RA表示路由区，SA表示服务区

**图形形式表示路由跟踪**

```
res.graph()
```

## 识别活跃的主机

windows使用ping命令

### nmap

主要扫描的类型有两个

- ping扫描
	- TCP SYN扫描
	- 操作系统识别
- 端口扫描
	- UDP扫描
	- 隐蔽扫描

```
nmap -sP baidu.com
```

```
nping baidu.com
```


![](http://itaolaity.com/20190502142017.png)





## 查看打开端口

两个工具

- nmap
- zenmap

### nmap

**查看目标开放端口**

```
nmap 220.181.57.216
```

![](http://itaolaity.com/20190502134150.png)

**指定扫描端口范围**

```
nmap -p 1-1000 220.181.57.216
```

**扫描特定端口**

扫描在220.181.57.*网段内所有开启TCP22端口的主机

```
nmap -p 22 220.181.57.*
```

### Zenmap

这是一个图形界面操作工具.

在界面Target输入目标主机地址，在Profile选择扫描类型。

![](http://itaolaity.com/20190502134930.png)

可以显示主机启动的端口号信息，拓扑结构，和扫描信息。



