[TOC]



### Padding

Padding组件处理容器与子元素直接的间距

- padding
- child

通过padding可以设置容器内的padding的值这样子元素就有一个间距

```dart
import 'package:flutter/material.dart';
import "res/data.dart"; //导入外部数据

void main(){
  runApp(new MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home:Scaffold(
        appBar:AppBar(
          title:Text("Linis")
        ),

        body:HomeContent(),
      ),

      theme: ThemeData(
        primarySwatch: Colors.purple,
      ),
    );
  }
}

class HomeContent extends StatelessWidget{
  
  // 生成下划线的列表
  @override
  Widget build(BuildContext context){
    return GridView.count(
      crossAxisCount: 2, //两列
      children: <Widget>[
        Padding(
          padding: EdgeInsets.all(10),
          child:        Image.network("http://cms-bucket.ws.126.net/2019/06/20/68fa7f186ffe4479ab27efabd4d94246.png?imageView&thumbnail=190y120", fit:BoxFit.cover),
        ),
        Padding(
          padding: EdgeInsets.all(10),
          child: Image.network("http://cms-bucket.ws.126.net/2019/06/18/cb15feda5261404593787b49bd70c622.png?imageView&thumbnail=190y120", fit:BoxFit.cover),
        ),
        Padding(
          padding: EdgeInsets.all(10),
          child: Image.network("http://cms-bucket.ws.126.net/2019/06/20/20cee67ee1a549ea8f8fb285de1f198d.png?imageView&thumbnail=190y120", fit:BoxFit.cover)
        ),
        Padding(
          padding: EdgeInsets.all(10),
          child: Image.network("http://cms-bucket.ws.126.net/2019/06/20/2280e210572a4567998838dbed9770fd.png?imageView&thumbnail=190y120", fit:BoxFit.cover)
        ),


      ],
    );
  }
}
```

![](E:\Tashi\Desktop\Learning\Flutter\image\Screenshot_20190730_193330_com.itaolaity.flutter_.jpg)

### Row水平组件

- `mainAxisAlignment`主轴排序方式
- `crossAxisAlignment`次轴排序方式
- `children`组件子元素

Row的构造函数

```dart
Row({
    Key key,
    MainAxisAlignment mainAxisAlignment = MainAxisAlignment.start,
    MainAxisSize mainAxisSize = MainAxisSize.max,
    CrossAxisAlignment crossAxisAlignment = CrossAxisAlignment.center,
    TextDirection textDirection,
    VerticalDirection verticalDirection = VerticalDirection.down,
    TextBaseline textBaseline,
    List<Widget> children = const <Widget>[], //子组件
})
```

### Column垂直布局组件

类似于CSS Flex布局

- `mainAxisAlignment`主轴排序方式
  - `mainAxisAlignment: MainAxisAlignment.center`居中
  - `mainAxisAlignment: MainAxisAlignment.end`居于父容器的后边
  - `...start`
  - `...spaceBetween`
  - `...spaceAround`
  - `...spaceEvenly`元素与元素、元素与边框均匀分配的
- `crossAxisAlignment`次轴排序方式
  - `crossAxisAlignment: CrossAxisAlignment.end`
  - `crossAxisAlignment: CrossAxisAlignment.start`
  - `crossAxisAlignment: CrossAxisAlignment.center`居中
  - `crossAxisAlignment: CrossAxisAlignment.stretch` 拉伸
- `children`组件子元素

ListView会铺满整个屏幕

**例子**

```dart
// 水平布局组件
import 'package:flutter/material.dart';
void main(){
  runApp(new MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home:Scaffold(
        appBar:AppBar(
          title:Text("Linis")
        ),

        body:HomeContent(),
      ),

      theme: ThemeData(
        primarySwatch: Colors.purple,
      ),
    );
  }
}

class HomeContent extends StatelessWidget{
  @override
  Widget build(BuildContext context){
    return new Container(
      height:600.0,
      
      color: Colors.orange,
      child: Row(
        mainAxisAlignment: MainAxisAlignment.spaceBetween, //两端居中
        crossAxisAlignment: CrossAxisAlignment.end, //下边
        children: <Widget>[
          IconContainer(Icons.home, color:Colors.blue),
          IconContainer(Icons.search, color:Colors.blue),
          IconContainer(Icons.select_all, color:Colors.blue),
          IconContainer(Icons.settings, color:Colors.blue)
        ],
      ),
    );
  }
}

// 生成按钮组件
class IconContainer extends StatelessWidget{
  double size=32.0;
  Color color = Colors.red; //默认值
  IconData icon;
  IconContainer(this.icon, {this.color, this.size});
  @override
  Widget build(BuildContext context){
      return Container(
        width:100.0,
        height:100.0,
        color:this.color,
        child: Center(
          child: Icon(this.icon, size: this.size, color: Colors.white),
        ),
      );
  }
}
```

![](E:\Tashi\Desktop\Learning\Flutter\image\Screenshot_20190730_210215_com.itaolaity.flutter_.jpg)

### Expanded组件

Expanded可以用在Row和Column布局中。类似于CSS的Flex布局

- `flex`元素站整个父的比例
- `child`子元素

**例子**

```dart
class HomeContent extends StatelessWidget{
  @override
  Widget build(BuildContext context){
    return new Container(
      height:600.0,
      color: Colors.orange,
      child: Row(
          children: <Widget>[
            IconContainer(Icons.home, color: Colors.black),
            Expanded(
              flex:1,// 1/3
              child: IconContainer(Icons.search, color: Colors.blueGrey),
            ),
            Expanded(
              flex:2,// 2/3
              child: IconContainer(Icons.send, color: Colors.pinkAccent),
            )
          ],
      )
    );
  }
}
```

![](E:\Tashi\Desktop\Learning\Flutter\image\Screenshot_20190730_211250_com.itaolaity.flutter_.jpg)

### Stack层叠组件

Stack表示堆，可以利用Stack结合Align或者Stack结合Positiond来页面布局

**Stack**

属性

- `alignment`配置所有子元素的显示位置
- `children`子组件

默认所有的子组件都是堆叠在一起的。

**Align**

Align是一个具有 Alignment 属性的 Widget，基础的属性就是 `alignment`，并且默认值是 `Aligment.center`



构造函数

```dart
const Align({
    Key key,
    this.alignment = Alignment.center,
    this.widthFactor,
    this.heightFactor,
    Widget child,
})
```

`alignment`

- topLeft
- topCenter
- topRight
- centerLeft
- …



**Flutter Stack Positioned**

属性

- `top` 子元素距离顶部的距离
- `bottom`
- `left`子元素距离左距离
- `right`
- `child`

> aligment指定参数

```dart
class HomeContent extends StatelessWidget{
  @override
  Widget build(BuildContext context){
    return Stack(
      alignment: Alignment(-1,1),
      children: <Widget>[
        Container(
          width:200,
          height:200,
          color:Colors.blue,
        ),
        Container(
          width:100,
          height:100,
          color: Colors.red,
        )
      ],
    );
  }
}
```

![](E:\Tashi\Desktop\Learning\Flutter\image\Main.gif)

> Stack结合Align

单独使用`alignment`只可以使少组件定位

结合**Align**多元素定位

```dart
class HomeContent extends StatelessWidget{
  @override
  Widget build(BuildContext context){
    return Stack(
      children: <Widget>[
        Align(
          alignment: Alignment(0,0),
          child: Container(
             width:200,
             height:200,
             color:Colors.blue,
          ),
        ),
        Align(
          alignment: Alignment(0.5,0.3),
          child: Container(
             width:100,
             height:100,
             color: Colors.red,
          ),
        )
      ],
    );
  }
}
```

![](E:\Tashi\Desktop\Learning\Flutter\image\20190730221055.png)

>Stack结合Positiond

```dart
class HomeContent extends StatelessWidget{
  @override
  Widget build(BuildContext context){
    return Stack(
      children: <Widget>[
        Positioned(
          top: 100,
          child: Container(
             width:200,
             height:200,
             color:Colors.blue,
          ),
        ),
        Positioned(
          right: 50,
          top:100,
          child: Container(
             width:100,
             height:100,
             color: Colors.red,
          ),
        )
      ],
    );
  }
}
```

![](E:\Tashi\Desktop\Learning\Flutter\image\QQ截图20190730221931.png)

### AspectRatio组件

AspectRatio的作用使根据设置调整子元素child的宽高比。

**例子**

```dart
class HomeContent extends StatelessWidget{
  @override
  Widget build(BuildContext context){
    return Container(
      width:100,
      color:Colors.orange,
      child: AspectRatio(
        aspectRatio: 1.0/3.0, //设置宽高比例 可以看到父width:100高度不设置，子组件的width:100 height:300 比例1/3
        child: Container(
          color: Colors.red,
        ),
      ),
    );
  }
}
```

![](E:\Tashi\Desktop\Learning\Flutter\image\QQ截图20190730222659.png)

### Card组件

Card卡片组件块 内容由多个Widget构成，Card具有圆角与阴影

**属性**

- `margin`
- `child`

- `Shape`阴影效果

### Wrap组件

Wrap实现流布局，单行的Wrap与Row表现几乎一致，单列的Wrap与Column几乎一致。W

构造函数

```dart
Wrap({
    Key key,
    this.direction = Axis.horizontal,
    this.alignment = WrapAlignment.start,
    this.spacing = 0.0,
    this.runAlignment = WrapAlignment.start,
    this.runSpacing = 0.0,
    this.crossAxisAlignment = WrapCrossAlignment.start,
    this.textDirection,
    this.verticalDirection = VerticalDirection.down,
    List<Widget> children = const <Widget>[],
}) : super(key: key, children: children);
```

- `direction` 主轴方向
- `alignment`主轴对齐方式
- `spacing`主轴方向间距
- `textDirection`文本方向
- `verticalDirection`定义Children摆放顺序
- `runAlignment`run的对齐方式
- `runSpacing`run的间距

**例子**

```dart
class HomeContent extends StatelessWidget{
  @override
  Widget build(BuildContext context){
    return Wrap(
        spacing: 15, //元素与元素的间距
        runSpacing: 30, // 纵轴的元素间距
        alignment: WrapAlignment.center, // 横轴对齐方式
        runAlignment: WrapAlignment.end,// 纵轴对齐方式
        children: <Widget>[
          MyButton("Java"),
          MyButton("Python"),
          MyButton("JavaScript"),
          MyButton("Django"),
          MyButton("MySQL"),
          MyButton("MongoDB"),
          MyButton("C#"),
        ],
      );
  }
}

// 自定义Button组件
class MyButton extends StatelessWidget{
  String text;
  MyButton(this.text){

  }
  @override
  Widget build(BuildContext context){
    return RaisedButton(
      child: Text(this.text),
      textColor: Theme.of(context).accentColor,
      onPressed: (){

      },
    );
  }
}
```

![](E:\Tashi\Desktop\Learning\Flutter\image\QQ截图20190730225936.png)

## 有状态组件

- StatefulWidget

**基本生成**

```dart
class HomePage extends StatefulWidget {
  HomePage({Key key}) : super(key: key);

  _HomePageState createState() => _HomePageState();
}

class _HomePageState extends State<HomePage> {
  @override
  Widget build(BuildContext context) {
    return Container(
       child: Text("Hello "), //写自定义组件的地方 
    );
  }
}
```

1. 继承StatefulWidget

**例子**

```dart
class HomePage extends StatefulWidget {
  HomePage({Key key}) : super(key: key);

  _HomePageState createState() => _HomePageState();
}

class _HomePageState extends State<HomePage> {
  int countNum = 0;
  @override
  Widget build(BuildContext context) {
    return Container(
       child: Column(
         children: <Widget>[
           Chip(
             label: Text("${this.countNum}"),
           ),

           SizedBox(height:50.0),

           RaisedButton(
             child: Text("Button"),
             onPressed: (){
               setState(() {
                 this.countNum++;
               });
             },
           )
         ],
       ),
    );
  }
}
```

1. 要改变数据得要实现`setState();`方法

![](E:\Tashi\Desktop\Learning\Flutter\image\QQ截图20190731130610.png)



---

StatefulWidget 提供了几个不同的方法类似生命周期的处理方式，其中使用比较多的就是 `initState`、`dispose`

**initState**

`initState` State 对象创建的时候就会触发

**dispose**

当 State 从 tree 中永久性 remove 的时候会触发